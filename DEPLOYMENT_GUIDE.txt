# DÃ©ploiement du backend "Collecteur d'Avis"

## ğŸš€ 1. PrÃ©paration du projet
- VÃ©rifier que le projet est bien fonctionnel en local.
- Mettre Ã  jour les dÃ©pendances si nÃ©cessaire.
- Supprimer les `console.log()` inutiles.
- VÃ©rifier que toutes les variables d'environnement sont bien configurÃ©es (`.env`).

---

## ğŸŒ 2. DÃ©ploiement du **Backend** (Render)
### âœ… Ã‰tapes :
1. **CrÃ©er un compte sur Render** (https://render.com/).
2. **CrÃ©er un service Web sur Render** :
   - Connecter Render Ã  GitHub.
   - SÃ©lectionner le repo du projet.
   - DÃ©finir `node server.js` comme `Start Command`.
   - Ajouter les variables d'environnement (`MONGO_URI`, `SERPAPI_KEY`, etc.).
   - Lancer le dÃ©ploiement.

### âŒ Erreur rencontrÃ©e : `EADDRINUSE` (port dÃ©jÃ  utilisÃ©)
- **Cause :** Le serveur tente d'Ã©couter sur un port dÃ©jÃ  occupÃ©.
- **Solution :** VÃ©rifier que `process.env.PORT` est bien utilisÃ© dans `server.js`.

### âœ… Solution implÃ©mentÃ©e :
```js
const PORT = process.env.PORT || 5000;
app.listen(PORT, () => {
  console.log(`âœ… Serveur lancÃ© sur le port ${PORT}`);
});



# ğŸ“¦ DÃ©ploiement du Frontend sur Vercel

## âœ… 1. PrÃ©paration du projet
Avant de dÃ©ployer, assure-toi que ton projet est prÃªt :
- VÃ©rifie que `vite.config.js` (ou `package.json` pour Create React App) est bien configurÃ©.
- Mets Ã  jour les dÃ©pendances (`npm update`).
- Assure-toi que les appels API pointent bien vers le backend dÃ©ployÃ© (`https://collecteur-avis.onrender.com`).
- Supprime les `console.log()` inutiles.
- VÃ©rifie `.gitignore` pour Ã©viter d'envoyer `node_modules`.

---

## ğŸŒ 2. DÃ©ploiement sur **Vercel**
### âœ… Ã‰tapes :
1. **CrÃ©er un compte sur Vercel** â†’ [https://vercel.com/](https://vercel.com/)
2. **Connecter GitHub** et sÃ©lectionner le repo contenant le frontend.
3. **Configurer le build** :
   - **Build Command** â†’ `npm run build`
   - **Output Directory** â†’ `build`
   - **Install Command** â†’ `npm install`
4. **Ajouter les variables dâ€™environnement** :
   - `VITE_API_URL=https://collecteur-avis.onrender.com`
5. **Lancer le dÃ©ploiement !**

---

## âŒ Erreurs et solutions

### ğŸ›‘ **1. DÃ©ploiement annulÃ© ("Ignore backend files for frontend build")**
- **ProblÃ¨me :** Vercel essaie de dÃ©ployer tout le repo (backend + frontend).
- **Solution :** Exclure les fichiers backend en crÃ©ant `vercel.json` Ã  la racine :

```json
{
  "ignoreCommand": "echo 'Ignore backend files for frontend build'"
}
